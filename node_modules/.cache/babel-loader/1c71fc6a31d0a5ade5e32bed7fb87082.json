{"ast":null,"code":"var _jsxFileName = \"E:\\\\ROBERT PROJECTS\\\\car-rental2022\\\\frontend\\\\src\\\\screens\\\\CarEditScreen.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport ModalCalendar from \"../components/ModalCalendar\";\nimport { listCarDetails, updateCar } from \"../actions/carActions\";\nimport { CAR_UPDATE_RESET } from \"../constants/carConstants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CarEditScreen() {\n  _s();\n\n  const params = useParams();\n  const navigate = useNavigate();\n  const carId = params.id;\n  console.log(carId);\n  const [name, setName] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [fuel, setFuel] = useState(\"\");\n  const [numOfPeople, setNumOfPeople] = useState(\"\");\n  const [engine, setEngine] = useState(\"\");\n  const [acceleration, setAcceleration] = useState(\"\");\n  const [gearbox, setGearbox] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [category, setCategory] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [reservedDays, setReservedDays] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [modalShow, setModalShow] = useState(false);\n  const dispatch = useDispatch();\n  const carDetails = useSelector(state => state.carDetails);\n  const {\n    loading,\n    error,\n    car\n  } = carDetails;\n  console.log(car);\n  const carUpdate = useSelector(state => state.carUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate\n  } = carUpdate;\n  console.log(successUpdate);\n\n  const modalHandler = () => {\n    setModalShow(true);\n  };\n\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({\n        type: CAR_UPDATE_RESET\n      });\n      navigate(\"/admin/carlist\");\n    } else {\n      if (!car.name || car._id !== carId) {\n        dispatch(listCarDetails(carId));\n      } else {\n        setName(car.name);\n        setImage(car.image);\n        setImages(car.images);\n        setFuel(car.fuel);\n        setNumOfPeople(car.numOfPeople);\n        setEngine(car.engine);\n        setAcceleration(car.acceleration);\n        setGearbox(car.gearbox);\n        setPrice(car.price);\n        setCategory(car.category);\n        setDescription(car.description);\n        setReservedDays(car.reservedDays.map(day => day.substring(0, 10)));\n      }\n    }\n  }, [dispatch, navigate, carId, car, successUpdate]);\n\n  const uploadFileHandler = async e => {\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    setUploading(true); //spinner\n\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      };\n      const {\n        data\n      } = await axios.post(\"/api/upload\", formData, config); //data is a path\n\n      setImage(data);\n      setUploading(false);\n    } catch (error) {\n      console.error(error);\n      setUploading(false);\n    }\n  };\n\n  const uploadFilesHandler = async e => {\n    const files = e.target.files;\n    const formData = new FormData();\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append(\"images\", files[i]);\n    }\n\n    setUploading(true); //spinner\n\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      };\n      const {\n        data\n      } = await axios.post(\"/api/upload/images\", formData, config); //data is a path\n\n      setImages([...data]); //setImages(data);\n\n      setUploading(false);\n    } catch (error) {\n      console.error(error);\n      setUploading(false);\n    }\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(updateCar({\n      _id: carId,\n      name,\n      image,\n      images,\n      fuel,\n      numOfPeople,\n      engine,\n      acceleration,\n      gearbox,\n      price,\n      category,\n      description,\n      reservedDays\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/carlist\",\n      className: \"btn btn-light my-3\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        height: \"40vh\",\n        marginTop: \"5vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-8 col-lg-6\",\n          style: {\n            border: \".5px solid lightgray\",\n            borderRadius: \"5px\",\n            padding: \"30px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Edit Car\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), loadingUpdate && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 31\n          }, this), errorUpdate && /*#__PURE__*/_jsxDEV(Message, {\n            variant: \"danger\",\n            children: errorUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n            variant: \"danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: submitHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                className: \"form-label\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"name\",\n                name: \"name\",\n                placeholder: \"Enter name\",\n                value: name,\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"image\",\n                className: \"form-label my-0\",\n                children: \"Main image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-group-flush p-0 m-0\",\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item\",\n                  children: image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"file\",\n                id: \"image\",\n                name: \"image\",\n                onChange: uploadFileHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), uploading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"images\",\n                className: \"form-label my-0\",\n                children: \"Images:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-group-flush p-0 m-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item\",\n                  children: image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 21\n                }, this), images && images.map(image => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item\",\n                  children: image\n                }, image, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"file\",\n                id: \"images\",\n                name: \"images\",\n                multiple: true,\n                \"aria-label\": \"Upload\",\n                onChange: uploadFilesHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), uploading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fuel\",\n                className: \"form-label\",\n                children: \"Fuel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"fuel\",\n                name: \"fuel\",\n                placeholder: \"Enter fuel\",\n                value: fuel,\n                onChange: e => setFuel(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"numOfPeople\",\n                className: \"form-label\",\n                children: \"Number Of People\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"numOfPeople\",\n                name: \"numOfPeople\",\n                placeholder: \"Enter numOfPeople\",\n                value: numOfPeople,\n                onChange: e => setNumOfPeople(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"acceleration\",\n                className: \"form-label\",\n                children: \"Acceleration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"acceleration\",\n                name: \"acceleration\",\n                placeholder: \"Enter acceleration\",\n                value: acceleration,\n                onChange: e => setAcceleration(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"gearbox\",\n                className: \"form-label\",\n                children: \"Gearbox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"gearbox\",\n                name: \"gearbox\",\n                placeholder: \"Enter gearbox\",\n                value: gearbox,\n                onChange: e => setGearbox(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"price\",\n                className: \"form-label\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"price\",\n                name: \"price\",\n                placeholder: \"Enter price\",\n                value: price,\n                onChange: e => setPrice(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"category\",\n                className: \"form-label\",\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"category\",\n                name: \"category\",\n                placeholder: \"Enter category\",\n                value: category,\n                onChange: e => setCategory(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"description\",\n                className: \"form-label\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"description\",\n                name: \"description\",\n                placeholder: \"Enter description\",\n                value: description,\n                onChange: e => setDescription(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label my-0\",\n                children: \"Reserved days: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-group-flush p-0 m-0\",\n                children: reservedDays && reservedDays.map(day => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item\",\n                  children: day\n                }, day, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-cardialred mt-3\",\n              children: \"Update Car\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalCalendar, {\n            id: carId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-secondary \",\n            \"data-bs-toggle\": \"modal\",\n            \"data-bs-target\": \"#modalCalendar\",\n            style: {\n              width: \"110px\"\n            },\n            children: \"Choose dates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CarEditScreen, \"SsnLhnHov3LFIz53k3AqsYI0TFk=\", false, function () {\n  return [useParams, useNavigate, useDispatch, useSelector, useSelector];\n});\n\n_c = CarEditScreen;\nexport default CarEditScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CarEditScreen\");","map":{"version":3,"sources":["E:/ROBERT PROJECTS/car-rental2022/frontend/src/screens/CarEditScreen.js"],"names":["axios","React","useState","useEffect","Link","useParams","useNavigate","useDispatch","useSelector","Message","Loader","ModalCalendar","listCarDetails","updateCar","CAR_UPDATE_RESET","CarEditScreen","params","navigate","carId","id","console","log","name","setName","image","setImage","images","setImages","fuel","setFuel","numOfPeople","setNumOfPeople","engine","setEngine","acceleration","setAcceleration","gearbox","setGearbox","price","setPrice","category","setCategory","description","setDescription","reservedDays","setReservedDays","uploading","setUploading","modalShow","setModalShow","dispatch","carDetails","state","loading","error","car","carUpdate","loadingUpdate","errorUpdate","success","successUpdate","modalHandler","type","_id","map","day","substring","uploadFileHandler","e","file","target","files","formData","FormData","append","config","headers","data","post","uploadFilesHandler","i","length","submitHandler","preventDefault","height","marginTop","border","borderRadius","padding","value","width"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport ModalCalendar from \"../components/ModalCalendar\";\r\n\r\nimport { listCarDetails, updateCar } from \"../actions/carActions\";\r\nimport { CAR_UPDATE_RESET } from \"../constants/carConstants\";\r\n\r\nfunction CarEditScreen() {\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const carId = params.id;\r\n  console.log(carId);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [fuel, setFuel] = useState(\"\");\r\n  const [numOfPeople, setNumOfPeople] = useState(\"\");\r\n  const [engine, setEngine] = useState(\"\");\r\n  const [acceleration, setAcceleration] = useState(\"\");\r\n  const [gearbox, setGearbox] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [reservedDays, setReservedDays] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const [modalShow, setModalShow] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const carDetails = useSelector((state) => state.carDetails);\r\n  const { loading, error, car } = carDetails;\r\n\r\n  console.log(car);\r\n\r\n  const carUpdate = useSelector((state) => state.carUpdate);\r\n  const {\r\n    loading: loadingUpdate,\r\n    error: errorUpdate,\r\n    success: successUpdate,\r\n  } = carUpdate;\r\n\r\n  console.log(successUpdate);\r\n  const modalHandler = () => {\r\n    setModalShow(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (successUpdate) {\r\n      dispatch({ type: CAR_UPDATE_RESET });\r\n      navigate(\"/admin/carlist\");\r\n    } else {\r\n      if (!car.name || car._id !== carId) {\r\n        dispatch(listCarDetails(carId));\r\n      } else {\r\n        setName(car.name);\r\n        setImage(car.image);\r\n        setImages(car.images);\r\n        setFuel(car.fuel);\r\n        setNumOfPeople(car.numOfPeople);\r\n        setEngine(car.engine);\r\n        setAcceleration(car.acceleration);\r\n        setGearbox(car.gearbox);\r\n        setPrice(car.price);\r\n        setCategory(car.category);\r\n        setDescription(car.description);\r\n        setReservedDays(car.reservedDays.map((day) => day.substring(0, 10)));\r\n      }\r\n    }\r\n  }, [dispatch, navigate, carId, car, successUpdate]);\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    setUploading(true); //spinner\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\"/api/upload\", formData, config);\r\n      //data is a path\r\n\r\n      setImage(data);\r\n      setUploading(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const uploadFilesHandler = async (e) => {\r\n    const files = e.target.files;\r\n    const formData = new FormData();\r\n    for (let i = 0; i < files.length; i++) {\r\n      formData.append(\"images\", files[i]);\r\n    }\r\n\r\n    setUploading(true); //spinner\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\"/api/upload/images\", formData, config);\r\n\r\n      //data is a path\r\n      setImages([...data]);\r\n\r\n      //setImages(data);\r\n      setUploading(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setUploading(false);\r\n    }\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      updateCar({\r\n        _id: carId,\r\n        name,\r\n        image,\r\n        images,\r\n        fuel,\r\n        numOfPeople,\r\n        engine,\r\n        acceleration,\r\n        gearbox,\r\n        price,\r\n        category,\r\n        description,\r\n        reservedDays,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Link to=\"/admin/carlist\" className=\"btn btn-light my-3\">\r\n        Go Back\r\n      </Link>\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          height: \"40vh\",\r\n          marginTop: \"5vh\",\r\n        }}\r\n      >\r\n        <div className=\"row justify-content-center\">\r\n          <div\r\n            className=\"col-12 col-md-8 col-lg-6\"\r\n            style={{\r\n              border: \".5px solid lightgray\",\r\n              borderRadius: \"5px\",\r\n              padding: \"30px\",\r\n            }}\r\n          >\r\n            <h4>Edit Car</h4>\r\n            {loadingUpdate && <Loader />}\r\n            {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\r\n            {loading ? (\r\n              <Loader />\r\n            ) : error ? (\r\n              <Message variant=\"danger\">{error}</Message>\r\n            ) : (\r\n              <form onSubmit={submitHandler}>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"name\" className=\"form-label\">\r\n                    Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    placeholder=\"Enter name\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"\">\r\n                  <label htmlFor=\"image\" className=\"form-label my-0\">\r\n                    Main image\r\n                  </label>\r\n                  <ul className=\"list-group-flush p-0 m-0\">\r\n                    <li className=\"list-group-item\">{image}</li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"file\"\r\n                    id=\"image\"\r\n                    name=\"image\"\r\n                    onChange={uploadFileHandler}\r\n                  />\r\n                  {uploading && <Loader />}\r\n                </div>\r\n                <div className=\"\">\r\n                  <label htmlFor=\"images\" className=\"form-label my-0\">\r\n                    Images:\r\n                  </label>\r\n                  <ul className=\"list-group-flush p-0 m-0\">\r\n                    <li className=\"list-group-item\">{image}</li>\r\n                    {images &&\r\n                      images.map((image) => (\r\n                        <li className=\"list-group-item\" key={image}>\r\n                          {image}\r\n                        </li>\r\n                      ))}\r\n                  </ul>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"file\"\r\n                    id=\"images\"\r\n                    name=\"images\"\r\n                    multiple\r\n                    aria-label=\"Upload\"\r\n                    onChange={uploadFilesHandler}\r\n                  />\r\n                  {uploading && <Loader />}\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"fuel\" className=\"form-label\">\r\n                    Fuel\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"fuel\"\r\n                    name=\"fuel\"\r\n                    placeholder=\"Enter fuel\"\r\n                    value={fuel}\r\n                    onChange={(e) => setFuel(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"numOfPeople\" className=\"form-label\">\r\n                    Number Of People\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"numOfPeople\"\r\n                    name=\"numOfPeople\"\r\n                    placeholder=\"Enter numOfPeople\"\r\n                    value={numOfPeople}\r\n                    onChange={(e) => setNumOfPeople(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"acceleration\" className=\"form-label\">\r\n                    Acceleration\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"acceleration\"\r\n                    name=\"acceleration\"\r\n                    placeholder=\"Enter acceleration\"\r\n                    value={acceleration}\r\n                    onChange={(e) => setAcceleration(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"gearbox\" className=\"form-label\">\r\n                    Gearbox\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"gearbox\"\r\n                    name=\"gearbox\"\r\n                    placeholder=\"Enter gearbox\"\r\n                    value={gearbox}\r\n                    onChange={(e) => setGearbox(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"price\" className=\"form-label\">\r\n                    Price\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"price\"\r\n                    name=\"price\"\r\n                    placeholder=\"Enter price\"\r\n                    value={price}\r\n                    onChange={(e) => setPrice(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"category\" className=\"form-label\">\r\n                    Category\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"category\"\r\n                    name=\"category\"\r\n                    placeholder=\"Enter category\"\r\n                    value={category}\r\n                    onChange={(e) => setCategory(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"description\" className=\"form-label\">\r\n                    Description\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    placeholder=\"Enter description\"\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"\">\r\n                  <label className=\"form-label my-0\">Reserved days: </label>\r\n                  <ul className=\"list-group-flush p-0 m-0\">\r\n                    {reservedDays &&\r\n                      reservedDays.map((day) => (\r\n                        <li className=\"list-group-item\" key={day}>\r\n                          {day}\r\n                        </li>\r\n                      ))}\r\n                  </ul>\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"btn btn-cardialred mt-3\">\r\n                  Update Car\r\n                </button>\r\n              </form>\r\n            )}\r\n            <ModalCalendar id={carId} />\r\n            <button\r\n              className=\"btn btn-sm btn-secondary \"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#modalCalendar\"\r\n              style={{ width: \"110px\" }}\r\n            >\r\n              Choose dates\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CarEditScreen;\r\n"]},"metadata":{},"sourceType":"module"}